{% extends 'base.html.twig' %}

{% block body %}
    <div id="acceuil">

        <div id="infos">
            <div>
                <p>Date du jour : {{ "now"|date("d/m/Y") }}</p>
                <p>Participant : {{ app.user.prenom}} {{ app.user.nom | slice(0,1)}}. </p>
            </div>
        </div>

        <h2>Filtrer les sorties</h2>

        <div id="filtres">
            {{  form_start(filtreForm) }}
            {{  form_row(filtreForm) }}
            <div id="button-filtre">
                <button type="submit">Rechercher</button>
            </div>
            {{  form_end(filtreForm) }}
        </div>

        <div id="listeSortie">
            <table border="1">
                <tr>
                    <td>Nom de la sortie</td>
                    <td>Date de la sortie</td>
                    <td>Clôture</td>
                    <td>inscrits/places</td>
                    <td>Etat</td>
                    <td>Inscrit</td>
                    <td>Organisateur</td>
                    <td>Actions</td>
                </tr>
                {% for sortie in sorties %}
                    <tr>
                        <td>{{ sortie.nom }}</td>
                        <td>{{ sortie.dateHeureDebut |date('d/m/y H:i') }}</td>
                        <td>{{ sortie.dateLimiteInscription |date('d/m/y') }}</td>
                        <td>{{ sortie.participants.count }}/{{ sortie.nbInscriptionsMax }}</td>
                        <td>{{ sortie.etat.libelle }}</td>
                        <td>X</td>
                        <td>{{ sortie.organisateur.prenom }} {{ sortie.organisateur.nom | slice(0,1) }}.</td>
                        <td>Afficher</td>
                    </tr>
                {% endfor %}
            </table>
        </div>

        <div>
            <button><a href="{{ path('sortie_create') }}" title="Créer une sortie" type="submit">Créer une sortie</a></button>
        </div>

    </div>
{% endblock %}

{% block title %}
    {{ parent() }} | Acceuil
{% endblock %}